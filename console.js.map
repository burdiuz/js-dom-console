{"version":3,"file":"console.js","sources":["source/utils.js","source/data.js","source/nested.js","source/dom.js","source/index.js"],"sourcesContent":["// Assigned to an object, when rendering, if exists, will wrap content, like\n// Map{...} or Set[...]\nexport const CLASS_NAME_KEY = Symbol('class-name');\n\nexport const SPACE_LEVEL = '  ';\nexport const MAX_FUNC_STR_LEN = 50;\n\nexport const INFO_TYPE = 'info';\nexport const LOG_TYPE = 'log';\nexport const WARNING_TYPE = 'warning';\nexport const ERROR_TYPE = 'error';\nexport const SUCCESS_TYPE = 'success';\n\nexport const getClassName = (value) => {\n  if (!value) return '';\n\n  const match = String(value.constructor).match(/^(?:[\\w\\s\\d_$])+\\s+([\\w\\d_$]+)\\s*[^\\1]/);\n  // .match(/^(?:(?:[\\w\\s\\d_$])+\\s+|)([\\w\\d_$]+)\\s*[^\\2]/) - returns type if anonymous\n\n  return match ? match[1] : '';\n};\n\nexport const getStringWrap = (value) => {\n  let pre;\n  let post;\n  const name = value[CLASS_NAME_KEY] || '';\n\n  if (value instanceof Array) {\n    pre = '[';\n    post = ']';\n  } else {\n    pre = '{';\n    post = '}';\n  }\n\n  pre = `${name}${pre}`;\n\n  return { pre, post };\n};\n\nexport const removeAllChildren = (target) => {\n  while (target.firstChild) {\n    target.removeChild(target.firstChild);\n  }\n};\n","/* eslint-disable no-use-before-define */\nimport { CLASS_NAME_KEY, MAX_FUNC_STR_LEN, getClassName } from './utils';\n\nexport const isString = (value) => {\n  switch (typeof value) {\n    case 'symbol':\n    case 'string':\n    case 'boolean':\n    case 'number':\n      return true;\n    default:\n      return !value || value instanceof Date;\n  }\n};\n\nexport const toString = (value) => {\n  switch (typeof value) {\n    case 'symbol':\n      return String(value);\n    case 'string':\n      return value;\n    case 'boolean':\n    case 'number':\n    default:\n      if (value instanceof Date) {\n        return `Date(${value})`;\n      }\n\n      return `${value}`;\n  }\n};\n\nconst stringifyFunction = (value) => {\n  const content = String(value);\n\n  if (content.length <= MAX_FUNC_STR_LEN) {\n    return content;\n  }\n\n  const name = getClassName(value) || 'Function';\n\n  return {\n    content,\n    [CLASS_NAME_KEY]: `${name}(${content.substr(0, MAX_FUNC_STR_LEN)})`,\n  };\n};\n\nconst stringifyError = (value) => {\n  const { name, message, columnNumber, fileName, lineNumber } = value;\n  return {\n    [CLASS_NAME_KEY]: name || 'Error',\n    name: stringifyValue(name),\n    message: stringifyValue(message),\n    columnNumber: stringifyValue(columnNumber),\n    fileName: stringifyValue(fileName),\n    lineNumber: stringifyValue(lineNumber),\n  };\n};\n\nexport function stringifyValue(value) {\n  if (typeof value === 'string') {\n    return JSON.stringify(value);\n  }\n\n  if (isString(value)) {\n    return toString(value);\n  }\n\n  if (value instanceof Function) {\n    return stringifyFunction(value);\n  }\n\n  if (value instanceof Error) {\n    return stringifyError(value);\n  }\n\n  let result;\n\n  if (value instanceof Array) {\n    result = value.map(stringifyValue);\n  } else if (value instanceof Map) {\n    result = {};\n    value.forEach((val, key) => {\n      result[key] = stringifyValue(val);\n    });\n  } else if (value instanceof Set) {\n    result = [];\n    value.forEach((val) => result.push(stringifyValue(val)));\n  } else {\n    result = {};\n    Object.keys(value).forEach((key) => {\n      result[key] = stringifyValue(value[key]);\n    });\n  }\n\n  if (result) {\n    result[CLASS_NAME_KEY] = getClassName(value) || 'Object';\n  } else {\n    result = `${getClassName(value)}()`;\n  }\n\n  return result;\n}\n","/* eslint-disable no-use-before-define */\nimport { SPACE_LEVEL, getStringWrap, removeAllChildren } from './utils';\nimport { stringifyValue } from './data';\n\nconst setExpandIconSymbol = (icon, expanded) => {\n  icon.innerHTML = expanded ? '-' : '+';\n};\n\nconst createExpandIcon = (expanded) => {\n  const icon = document.createElement('span');\n  icon.className = 'ui-console-button-expand';\n\n  setExpandIconSymbol(icon, expanded);\n\n  return icon;\n};\n\nconst createCollapsedContent = () => [document.createTextNode(' ... ')];\n\nconst createUINestedArrayContent = (list, space) => {\n  const result = [];\n  let text = '\\n';\n\n  list.forEach((value) => {\n    text += space;\n\n    if (typeof value === 'object') {\n      result.push(document.createTextNode(text));\n      text = '';\n      result.push(createUINested(value, space));\n    } else {\n      text += value;\n    }\n    text += ', \\n';\n  });\n\n  if (text) {\n    result.push(document.createTextNode(text));\n  }\n\n  return result;\n};\n\nconst createUINestedObjectContent = (object, space) => {\n  const result = [];\n  let text = '\\n';\n\n  Object.keys(object).forEach((key) => {\n    const value = object[key];\n    text += `${space}${stringifyValue(key)}: `;\n\n    if (typeof value === 'object') {\n      result.push(document.createTextNode(text));\n      text = '';\n      result.push(createUINested(value, space));\n    } else {\n      text += value;\n    }\n\n    text += ', \\n';\n  });\n\n  if (text) {\n    result.push(document.createTextNode(text));\n  }\n\n  return result;\n};\n\nconst createUINestedContent = (value, initSpace) => {\n  const space = `${SPACE_LEVEL}${initSpace}`;\n\n  if (value instanceof Array) {\n    return createUINestedArrayContent(value, space);\n  }\n\n  return createUINestedObjectContent(value, space);\n};\n\nexport function createUINested(value, space = '', initExpanded = false) {\n  let expanded = initExpanded;\n  let contentExpanded;\n  const contentCollapsed = createCollapsedContent();\n\n  const { pre, post } = getStringWrap(value);\n  const icon = createExpandIcon(expanded);\n  const wrapper = document.createElement('span');\n\n  wrapper.className = 'ui-console-clickable';\n\n  const drawContents = () => {\n    let content;\n\n    removeAllChildren(wrapper);\n\n    wrapper.appendChild(icon);\n    wrapper.appendChild(document.createTextNode(pre));\n\n    if (expanded) {\n      if (!contentExpanded) {\n        contentExpanded = createUINestedContent(value, space);\n      }\n\n      content = contentExpanded;\n    } else {\n      content = contentCollapsed;\n    }\n\n    content.forEach((node) => wrapper.appendChild(node));\n\n    wrapper.appendChild(document.createTextNode(`${space}${post}`));\n  };\n\n  wrapper.addEventListener('click', (event) => {\n    event.preventDefault();\n    event.stopPropagation();\n\n    expanded = !expanded;\n\n    setExpandIconSymbol(icon, expanded);\n    drawContents();\n  });\n\n  drawContents();\n\n  return wrapper;\n}\n","import { isString, toString, stringifyValue } from './data';\nimport { createUINested } from './nested';\n\nconst createSimpleValue = (value) => document.createTextNode(`${value} `);\n\nexport const buildContent = (content, item) => {\n  content.forEach((value) => {\n    let result;\n\n    if (isString(value)) {\n      result = toString(value);\n    } else {\n      result = stringifyValue(value);\n    }\n\n    if (typeof result === 'object') {\n      item.appendChild(createUINested(result, '', true));\n    } else {\n      item.appendChild(createSimpleValue(result));\n    }\n  });\n\n  return item;\n};\n","import {\n  INFO_TYPE,\n  LOG_TYPE,\n  WARNING_TYPE,\n  ERROR_TYPE,\n  SUCCESS_TYPE,\n} from './utils';\nimport { buildContent } from './dom';\n\nexport const init = (container, maxItems = Number.MAX_SAFE_INTEGER) => {\n  const shiftOverMax = () => {\n    while (maxItems > 0 && maxItems < container.childElementCount) {\n      const child = container.firstElementChild;\n      if (!child) {\n        return;\n      }\n\n      child.remove();\n    }\n  };\n\n  const pushItem = (content, type = LOG_TYPE) => {\n    const item = document.createElement('div');\n    item.className = `ui-console-item ui-console-item-${type}`;\n\n    buildContent(content, item);\n\n    container.appendChild(item);\n    shiftOverMax();\n  };\n\n  return {\n    info: (...content) => pushItem(content, INFO_TYPE),\n    log: (...content) => pushItem(content, LOG_TYPE),\n    warn: (...content) => pushItem(content, WARNING_TYPE),\n    error: (...content) => pushItem(content, ERROR_TYPE),\n    success: (...content) => pushItem(content, SUCCESS_TYPE),\n  };\n};\n\nexport const create = (wrapper, maxItems = Number.MAX_SAFE_INTEGER) => {\n  const container = document.createElement('div');\n  container.className = 'ui-console ui-console-container';\n  wrapper.appendChild(container);\n\n  return init(container, maxItems);\n};\n"],"names":["CLASS_NAME_KEY","Symbol","SPACE_LEVEL","MAX_FUNC_STR_LEN","INFO_TYPE","LOG_TYPE","WARNING_TYPE","ERROR_TYPE","SUCCESS_TYPE","getClassName","value","match","String","constructor","getStringWrap","pre","post","name","Array","removeAllChildren","target","firstChild","removeChild","isString","Date","toString","stringifyFunction","content","length","substr","stringifyError","message","columnNumber","fileName","lineNumber","stringifyValue","JSON","stringify","Function","Error","result","map","Map","forEach","val","key","Set","push","Object","keys","setExpandIconSymbol","icon","expanded","innerHTML","createExpandIcon","document","createElement","className","createCollapsedContent","createTextNode","createUINestedArrayContent","list","space","text","createUINested","createUINestedObjectContent","object","createUINestedContent","initSpace","initExpanded","contentExpanded","contentCollapsed","wrapper","drawContents","appendChild","node","addEventListener","event","preventDefault","stopPropagation","createSimpleValue","buildContent","item","init","container","maxItems","Number","MAX_SAFE_INTEGER","shiftOverMax","childElementCount","child","firstElementChild","remove","pushItem","type","info","log","warn","error","success","create"],"mappings":"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"}