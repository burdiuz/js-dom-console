!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.DOMConsole={})}(this,function(e){"use strict";function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function s(e,t){return e(t={exports:{}},t.exports),t.exports}var n=s(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const s=e=>{if(null==e)return;const t=e.constructor;if("function"==typeof t&&e instanceof t)return e.constructor;const s=Object.getPrototypeOf(e);return s&&"object"==typeof s?s.constructor:s||Object};t.getClassName=(e=>{if(!e)return"";const t=s(e);return t?t.name:""}),t.getParentClass=(e=>{const t=s(e);return t&&Object.getPrototypeOf(t)}),t.getClass=s,t.default=s});t(n);n.getClassName,n.getParentClass,n.getClass;var r=s(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.singleValueFactory=((e=null,t=(e=>e))=>{let s=e;return{getDefault:()=>e,get:()=>s,set:(n=e)=>{s=t(n)}}}),t.valuesMapFactory=((e=new Map,t=((e,t)=>t))=>{const s=new Map(e),n=()=>new Map(s),r=n();return{values:r,getDefault:n,copy:()=>new Map(r),delete:e=>r.delete(e),has:e=>r.has(e),set:(e,s)=>r.set(e,t(e,s)),get:e=>r.get(e)}}),t.valuesSetFactory=((e=new Set,t=(e=>e))=>{const s=new Set(e),n=()=>new Set(s),r=n();return{values:r,getDefault:n,get:()=>new Set(r),delete:e=>r.delete(e),has:e=>r.has(e),add:e=>r.add(t(e))}})});t(r);r.singleValueFactory,r.valuesMapFactory,r.valuesSetFactory;var a=s(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var s,a=(s=n)&&"object"==typeof s&&"default"in s?s.default:s;const o=(e,t)=>e.className=t,c=e=>"string"==typeof e,l=/^[\w_$][\w\d_$]*$/i,u=e=>!(c(e)&&l.test(e)),i=e=>e&&"object"==typeof e,p=(e,t,s)=>{e.pre=t,e.post=s},d=(e,t)=>{e.short=t},g=()=>({type:"list",values:[],pre:"[",post:"]"}),f=({values:e},t,s)=>e[t]=s,m=()=>({type:"storage",keys:[],values:[],pre:"{",post:"}"}),y=({keys:e,values:t},s,n)=>{e.push(s),t.push(n)};var h=Object.freeze({MAX_FUNC_STR_LEN:30,setCustomClassNameTo:o,getCustomClassNameFrom:e=>e.className||"",canPassAsIs:c,keyNeedsConversion:u,isNested:i,setNestedWraps:p,getNestedWraps:({pre:e,post:t})=>({pre:e,post:t}),setNestedShortContent:d,getNestedShortContent:e=>e.short,isList:e=>i(e)&&"list"===e.type,createList:g,addToList:f,iterateList:({values:e},t)=>e.forEach((e,s)=>t(e,s)),getListSize:({values:e})=>e.length,isStorage:e=>i(value)&&"storage"===e.type,createStorage:m,addToStorage:y,iterateStorage:(e,t)=>{const{keys:s,values:n}=e;s.forEach((e,s)=>t(n[s],e))},getStorageSize:({keys:e})=>e.length}),N=(e,t)=>{const s={type:"list",values:[],pre:"[",post:"]"};return e.forEach((e,n)=>{f(s,n,t(e))}),o(s,n.getClassName(e)),s},v=e=>`${e}`,C=e=>`Date(${e})`,S=(e,t)=>{const{name:s,message:n,columnNumber:r,fileName:a,lineNumber:c}=e,l={type:"storage",keys:[],values:[],pre:"{",post:"}"};return y(l,"name",t(s)),y(l,"message",t(n)),y(l,"columnNumber",t(r)),y(l,"fileName",t(a)),y(l,"lineNumber",t(c)),o(l,s||"Error"),l},b=e=>{const t=String(e);if(t.length<=30)return t;const s=n.getClassName(e)||"Function";let{name:r}=e;r||(r=t.replace(/\s+/g," ").substr("function "===t.substr(0,9)?9:0,30),t.length<30&&(r=`${r}...`));const a={type:"storage",keys:[],values:[],pre:"{",post:"}"};return y(a,"code",t),p(a,"(",")"),d(a,r),o(a,s),a},T=(e,t)=>{const s={type:"storage",keys:[],values:[],pre:"{",post:"}"};return e.forEach((e,n)=>{y(s,t(n),t(e))}),o(s,n.getClassName(e)),s},E=e=>`${e}`,M=(e,t)=>{const s={type:"storage",keys:[],values:[],pre:"{",post:"}"};return Object.keys(e).forEach(n=>{y(s,u(n)?t(n):n,t(e[n]))}),o(s,n.getClassName(e)),s},x=(e,t)=>{const s={type:"list",values:[],pre:"[",post:"]"};let r=0;return e.forEach(e=>{f(s,r++,t(e))}),o(s,n.getClassName(e)),s},$=e=>JSON.stringify(e),_=e=>String(e);const w=new Map,H=(e,t)=>{e&&t&&(w.delete(e),w.set(e,t))},O=e=>w.get(e);let j=e=>{const t=a(e);return t&&O(t)};H(Array,N),H(Boolean,v),H(Date,C),H(Error,S),H(Function,b),H(Map,T),H(Number,E),H(Object,M),H(Set,x),H(String,$),H(Symbol,_);const{get:D,set:F}=r.singleValueFactory(2),L=e=>{switch(typeof e){case"symbol":case"string":case"boolean":case"number":case"undefined":return!0;default:return null===e||e instanceof Date}},k=e=>{switch(typeof e){case"symbol":return _(e);case"string":return $(e);case"boolean":return v(e);case"number":return E(e);default:return e instanceof Date?C(e):`${e}`}},P=(e,t=1,s=new Map)=>{if(null==e)return`${e}`;const n=D();if(t>n)return k(e);const r=!L(e);if(r&&s.has(e))return s.get(e);const a=(e=>j(e))(e),o=e=>P(e,t+1,s);let c;return a&&(c=a(e,o,s)),c=((e,t,s)=>L(e)?k(e):e instanceof Function?b(e):e instanceof Error?S(e,t):e instanceof Map?T(e,t):e instanceof Set?x(e,t):e instanceof Array?N(e,t):M(e,t))(e,o),r&&s.set(e,c),c};t.default=P,t.utils=h,t.addTypeHandler=H,t.getTypeHandler=O,t.hasTypeHandler=(e=>w.has(e)),t.removeTypeHandler=(e=>w.delete(e)),t.setTypeHandlerSelector=(e=>{j=e}),t.isString=L,t.toString=k,t.convert=P,t.getMaxNesingDepth=D,t.setMaxNesingDepth=F}),o=t(a),c=a.utils,l=a.addTypeHandler,u=a.getTypeHandler,i=a.hasTypeHandler,p=a.removeTypeHandler,d=a.setTypeHandlerSelector,g=(a.isString,a.convert,a.getMaxNesingDepth),f=a.setMaxNesingDepth;const{isList:m,getListSize:y,getNestedWraps:h,getCustomClassNameFrom:N}=c,v=e=>{const t=h(e),s=N(e);return m(e)?t.pre=`${s}(${y(e)})${t.pre}`:t.pre=`${s}${t.pre}`,t},C=e=>{for(;e.firstChild;)e.removeChild(e.firstChild)},{iterateStorage:S,isNested:b,isList:T,iterateList:E,getNestedShortContent:M,getNestedWraps:x,getListSize:$,getStorageSize:_}=c,w=(e,t)=>{e.innerHTML=t?"-":"+"},H=e=>{const t=document.createElement("span");return t.className="ui-console-button-expand",w(t,e),t},O=(e,t)=>{let s=M(e);return void 0===s&&(s=t?" ... ":""),[document.createTextNode(s)]},j=(e,t)=>{const s=`  ${t}`;return T(e)?((e,t)=>{const s=[];let n="\n";return E(e,e=>{n+=t,b(e)?(s.push(document.createTextNode(n)),n="",s.push(D(e,t))):n+=e,n+=", \n"}),n&&s.push(document.createTextNode(n)),s})(e,s):((e,t)=>{const s=[];let n="\n";return S(e,(e,r)=>{n+=`${t}`,b(r)?(s.push(document.createTextNode(`${n}[`)),s.push(D(r,t)),n="]"):n+=r,n+=": ",b(e)?(s.push(document.createTextNode(n)),s.push(D(e,t)),n=""):n+=e,n+=", \n"}),n&&s.push(document.createTextNode(n)),s})(e,s)};function D(e,t="",s=!1){const n=T(e)?$(e):_(e);let r,a=s&&!!n;const o=O(e,n),{pre:c,post:l}=v(e),u=H(a),i=document.createElement("span");i.className="ui-console-nested-wrapper";const p=document.createElement("span");p.className="ui-console-clickable",p.appendChild(u),p.appendChild(document.createTextNode(c));const d=()=>{let s;C(i),i.appendChild(p),a?(r||(r=j(e,t)),s=r):s=o,s.forEach(e=>i.appendChild(e)),i.appendChild(document.createTextNode(a?`${t}${l}`:l))};return p.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),w(u,a=!a),d()}),d(),i}const{isNested:F,canPassAsIs:L}=c,k=e=>document.createTextNode(`${e} `),P=(e,t=Number.MAX_SAFE_INTEGER)=>{const s=(s,n="log")=>{const r=document.createElement("div");r.className=`ui-console-item ui-console-item-${n}`,((e,t)=>(e.forEach(e=>{if(L(e))return void t.appendChild(k(e));const s=o(e);F(s)?t.appendChild(D(s,"",!0)):t.appendChild(k(s))}),t))(s,r),e.appendChild(r),(()=>{for(;t>0&&t<e.childElementCount;){const t=e.firstElementChild;if(!t)return;t.remove()}})()};return{info:(...e)=>s(e,"info"),log:(...e)=>s(e,"log"),warn:(...e)=>s(e,"warning"),error:(...e)=>s(e,"error"),success:(...e)=>s(e,"success")}};e.init=P,e.create=((e,t=Number.MAX_SAFE_INTEGER)=>{const s=document.createElement("div");return s.className="ui-console ui-console-container",e.appendChild(s),P(s,t)}),e.addTypeHandler=l,e.getTypeHandler=u,e.hasTypeHandler=i,e.removeTypeHandler=p,e.setTypeHandlerSelector=d,e.getMaxNesingDepth=g,e.setMaxNesingDepth=f,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=console.min.js.map
