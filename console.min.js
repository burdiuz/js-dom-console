!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.DOMConsole={})}(this,function(e){"use strict";function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function n(e,t){return e(t={exports:{}},t.exports),t.exports}var s=n(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const n=e=>{if(null==e)return;const t=e.constructor;if("function"==typeof t&&e instanceof t)return e.constructor;const n=Object.getPrototypeOf(e);return n&&"object"==typeof n?n.constructor:n||Object};t.getClassName=(e=>{if(!e)return"";const t=n(e);return t?t.name:""}),t.getParentClass=(e=>{const t=n(e);return t&&Object.getPrototypeOf(t)}),t.getClass=n,t.default=n});t(s);s.getClassName,s.getParentClass,s.getClass;var r=n(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.singleValueFactory=((e=null,t=(e=>e))=>{let n=e;return{getDefault:()=>e,get:()=>n,set:(s=e)=>{n=t(s)}}}),t.valuesMapFactory=((e=new Map,t=((e,t)=>t))=>{const n=new Map(e),s=()=>new Map(n),r=s();return{values:r,getDefault:s,copy:()=>new Map(r),delete:e=>r.delete(e),has:e=>r.has(e),set:(e,n)=>r.set(e,t(e,n)),get:e=>r.get(e)}}),t.valuesSetFactory=((e=new Set,t=(e=>e))=>{const n=new Set(e),s=()=>new Set(n),r=s();return{values:r,getDefault:s,get:()=>new Set(r),delete:e=>r.delete(e),has:e=>r.has(e),add:e=>r.add(t(e))}})});t(r);r.singleValueFactory,r.valuesMapFactory,r.valuesSetFactory;var a=n(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n,a=(n=s)&&"object"==typeof n&&"default"in n?n.default:n;const o=(e,t)=>e.className=t,c=e=>e.className||"",l=e=>"string"==typeof e,u=/^[\w_$][\w\d_$]*$/i,i=e=>!(l(e)&&u.test(e)),d=e=>e&&"object"==typeof e,p=()=>({type:"list",values:[]}),f=({values:e},t,n)=>e[t]=n,g=()=>({type:"storage",keys:[],values:[]}),m=({keys:e,values:t},n,s)=>{e.push(n),t.push(s)};var y=Object.freeze({CLASS_NAME_KEY:"className",MAX_FUNC_STR_LEN:30,setCustomClassNameTo:o,getCustomClassNameFrom:c,getStringWrap:e=>{let t,n;const s=c(e);return e instanceof Array?(t="[",n="]"):(t="{",n="}"),{pre:t=`${s}${t}`,post:n}},canPassAsIs:l,keyNeedsConversion:i,isNested:d,isList:e=>d(e)&&"list"===e.type,createList:p,addToList:f,iterateList:({values:e},t)=>e.forEach((e,n)=>t(e,n)),getListSize:({values:e})=>e.length,isStorage:e=>d(value)&&"storage"===e.type,createStorage:g,addToStorage:m,iterateStorage:(e,t)=>{const{keys:n,values:s}=e;n.forEach((e,n)=>t(s[n],e))},getStorageSize:({keys:e})=>e.length}),h=(e,t)=>{const n={type:"list",values:[]};return e.forEach((e,s)=>{f(n,s,t(e))}),o(n,s.getClassName(e)),n},N=e=>`${e}`,v=e=>`Date(${e})`,C=(e,t)=>{const{name:n,message:s,columnNumber:r,fileName:a,lineNumber:c}=e,l={type:"storage",keys:[],values:[]};return m(l,"name",t(n)),m(l,"message",t(s)),m(l,"columnNumber",t(r)),m(l,"fileName",t(a)),m(l,"lineNumber",t(c)),o(l,n||"Error"),l},b=e=>{const t=String(e);if(t.length<=30)return t;const n=s.getClassName(e)||"Function";let{name:r}=e;r||(r=t.substr("function "===t.substr(0,9)?9:0,30));const a={type:"storage",keys:[],values:[]};return m(a,"content",t),o(a,`${n}(${r})`),a},S=(e,t)=>{const n={type:"storage",keys:[],values:[]};return e.forEach((e,s)=>{m(n,t(s),t(e))}),o(n,s.getClassName(e)),n},T=e=>`${e}`,E=(e,t)=>{const n={type:"storage",keys:[],values:[]};return Object.keys(e).forEach(s=>{m(n,i(s)?t(s):s,t(e[s]))}),o(n,s.getClassName(e)),n},M=(e,t)=>{const n={type:"list",values:[]};let r=0;return e.forEach(e=>{f(n,r++,t(e))}),o(n,s.getClassName(e)),n},x=e=>JSON.stringify(e),$=e=>String(e);const _=new Map,w=(e,t)=>{e&&t&&(_.delete(e),_.set(e,t))},H=e=>_.get(e);let O=e=>{const t=a(e);return t&&H(t)};w(Array,h),w(Boolean,N),w(Date,v),w(Error,C),w(Function,b),w(Map,S),w(Number,T),w(Object,E),w(Set,M),w(String,x),w(Symbol,$);const{get:j,set:D}=r.singleValueFactory(2),F=e=>{switch(typeof e){case"symbol":case"string":case"boolean":case"number":case"undefined":return!0;default:return null===e||e instanceof Date}},k=e=>{switch(typeof e){case"symbol":return $(e);case"string":return x(e);case"boolean":return N(e);case"number":return T(e);default:return e instanceof Date?v(e):`${e}`}},A=(e,t=1,n=new Map)=>{if(null==e)return`${e}`;const s=j();if(t>s)return k(e);const r=!F(e);if(r&&n.has(e))return n.get(e);const a=(e=>O(e))(e),o=e=>A(e,t+1,n);let c;return a&&(c=a(e,o,n)),c=((e,t,n)=>F(e)?k(e):e instanceof Function?b(e):e instanceof Error?C(e,t):e instanceof Map?S(e,t):e instanceof Set?M(e,t):e instanceof Array?h(e,t):E(e,t))(e,o),r&&n.set(e,c),c};t.default=A,t.utils=y,t.addTypeHandler=w,t.getTypeHandler=H,t.hasTypeHandler=(e=>_.has(e)),t.removeTypeHandler=(e=>_.delete(e)),t.setTypeHandlerSelector=(e=>{O=e}),t.isString=F,t.toString=k,t.convert=A,t.getMaxNesingDepth=j,t.setMaxNesingDepth=D}),o=t(a),c=a.utils,l=a.addTypeHandler,u=a.getTypeHandler,i=a.hasTypeHandler,d=a.removeTypeHandler,p=a.setTypeHandlerSelector,f=(a.isString,a.convert,a.getMaxNesingDepth),g=a.setMaxNesingDepth;const{isList:m,getCustomClassNameFrom:y}=c,h=e=>{let t,n;const s=y(e);return m(e)?(t="[",n="]"):(t="{",n="}"),{pre:t=`${s}${t}`,post:n}},N=e=>{for(;e.firstChild;)e.removeChild(e.firstChild)},{iterateStorage:v,isNested:C,isList:b,iterateList:S}=c,T=(e,t)=>{e.innerHTML=t?"-":"+"},E=e=>{const t=document.createElement("span");return t.className="ui-console-button-expand",T(t,e),t},M=()=>[document.createTextNode(" ... ")],x=(e,t)=>{const n=`  ${t}`;return b(e)?((e,t)=>{const n=[];let s="\n";return S(e,e=>{s+=t,C(e)?(n.push(document.createTextNode(s)),s="",n.push($(e,t))):s+=e,s+=", \n"}),s&&n.push(document.createTextNode(s)),n})(e,n):((e,t)=>{const n=[];let s="\n";return v(e,(e,r)=>{s+=`${t}`,C(r)?(n.push(document.createTextNode(`${s}[`)),n.push($(r,t)),s="]"):s+=r,s+=": ",C(e)?(n.push(document.createTextNode(s)),n.push($(e,t)),s=""):s+=e,s+=", \n"}),s&&n.push(document.createTextNode(s)),n})(e,n)};function $(e,t="",n=!1){let s,r=n;const a=M(),{pre:o,post:c}=h(e),l=E(r),u=document.createElement("span");u.className="ui-console-nested-wrapper";const i=document.createElement("span");i.className="ui-console-clickable",i.appendChild(l),i.appendChild(document.createTextNode(o));const d=()=>{let n;N(u),u.appendChild(i),r?(s||(s=x(e,t)),n=s):n=a,n.forEach(e=>u.appendChild(e)),u.appendChild(document.createTextNode(r?`${t}${c}`:c))};return i.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),T(l,r=!r),d()}),d(),u}const{isNested:_,canPassAsIs:w}=c,H=e=>document.createTextNode(`${e} `),O=(e,t=Number.MAX_SAFE_INTEGER)=>{const n=(n,s="log")=>{const r=document.createElement("div");r.className=`ui-console-item ui-console-item-${s}`,((e,t)=>(e.forEach(e=>{if(w(e))return void t.appendChild(H(e));const n=o(e);_(n)?t.appendChild($(n,"",!0)):t.appendChild(H(n))}),t))(n,r),e.appendChild(r),(()=>{for(;t>0&&t<e.childElementCount;){const t=e.firstElementChild;if(!t)return;t.remove()}})()};return{info:(...e)=>n(e,"info"),log:(...e)=>n(e,"log"),warn:(...e)=>n(e,"warning"),error:(...e)=>n(e,"error"),success:(...e)=>n(e,"success")}};e.init=O,e.create=((e,t=Number.MAX_SAFE_INTEGER)=>{const n=document.createElement("div");return n.className="ui-console ui-console-container",e.appendChild(n),O(n,t)}),e.addTypeHandler=l,e.getTypeHandler=u,e.hasTypeHandler=i,e.removeTypeHandler=d,e.setTypeHandlerSelector=p,e.getMaxNesingDepth=f,e.setMaxNesingDepth=g,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=console.min.js.map
