!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).DOMConsole={})}(this,(function(e){"use strict";function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function s(e,t,s){return e(s={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&s.path)}},s.exports),s.exports}var n=s((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const s=e=>{if(null==e)return;const t=e.constructor;if("function"==typeof t&&e instanceof t)return e.constructor;const s=Object.getPrototypeOf(e);return s&&"object"==typeof s?s.constructor:s||Object};t.getClassName=e=>{if(!e)return"";const t=s(e);return t?t.name:""},t.getParentClass=e=>{const t=s(e);return t&&Object.getPrototypeOf(t)},t.getClass=s,t.default=s})),r=s((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.singleValueFactory=(e=null,t=(e=>e))=>{let s=e;return{getDefault:()=>e,get:()=>s,set:(n=e)=>{s=t(n)}}},t.valuesMapFactory=(e=new Map,t=((e,t)=>t))=>{const s=new Map(e),n=()=>new Map(s),r=n();return{values:r,getDefault:n,copy:()=>new Map(r),delete:e=>r.delete(e),has:e=>r.has(e),set:(e,s)=>r.set(e,t(e,s)),get:e=>r.get(e)}},t.valuesSetFactory=(e=new Set,t=(e=>e))=>{const s=new Set(e),n=()=>new Set(s),r=n();return{values:r,getDefault:n,get:()=>new Set(r),delete:e=>r.delete(e),has:e=>r.has(e),add:e=>r.add(t(e))}}})),o=s((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const s=(e,t)=>e.className=t,o=e=>"string"==typeof e,a=/^[\w_$][\w\d_$]*$/i,c=e=>!(o(e)&&a.test(e)),l=e=>e&&"object"==typeof e,u=(e,t,s)=>{e.pre=t,e.post=s},i=(e,t)=>{e.short=t},p=()=>({type:"list",values:[],pre:"[",post:"]"}),d=({values:e},t,s)=>e[t]=s,g=()=>({type:"storage",keys:[],values:[],pre:"{",post:"}"}),f=({keys:e,values:t},s,n)=>{e.push(s),t.push(n)};var m=Object.freeze({__proto__:null,MAX_FUNC_STR_LEN:30,addToList:d,addToStorage:f,canPassAsIs:o,createList:p,createStorage:g,getCustomClassNameFrom:e=>e.className||"",getListSize:({values:e})=>e.length,getNestedShortContent:e=>e.short,getNestedWraps:({pre:e,post:t})=>({pre:e,post:t}),getStorageSize:({keys:e})=>e.length,isList:e=>l(e)&&"list"===e.type,isNested:l,isStorage:e=>l(value)&&"storage"===e.type,iterateList:({values:e},t)=>e.forEach(((e,s)=>t(e,s))),iterateStorage:(e,t)=>{const{keys:s,values:n}=e;s.forEach(((e,s)=>t(n[s],e)))},keyNeedsConversion:c,setCustomClassNameTo:s,setNestedShortContent:i,setNestedWraps:u}),h=(e,t)=>{const r={type:"list",values:[],pre:"[",post:"]"};return e.forEach(((e,s)=>{d(r,s,t(e))})),s(r,n.getClassName(e)),r},y=e=>`${e}`,N=e=>`Date(${e})`,b=(e,t)=>{const{name:n,message:r,columnNumber:o,fileName:a,lineNumber:c}=e,l={type:"storage",keys:[],values:[],pre:"{",post:"}"};return f(l,"name",t(n)),f(l,"message",t(r)),f(l,"columnNumber",t(o)),f(l,"fileName",t(a)),f(l,"lineNumber",t(c)),s(l,n||"Error"),l},v=e=>{const t=String(e);if(t.length<=30)return t;const r=n.getClassName(e)||"Function";let{name:o}=e;o||(o=t.replace(/\s+/g," ").substr("function "===t.substr(0,9)?9:0,30),t.length<30&&(o=`${o}...`));const a={type:"storage",keys:[],values:[],pre:"{",post:"}"};return f(a,"code",t),u(a,"(",")"),i(a,o),s(a,r),a},C=(e,t)=>{const r={type:"storage",keys:[],values:[],pre:"{",post:"}"};return e.forEach(((e,s)=>{f(r,t(s),t(e))})),s(r,n.getClassName(e)),r},S=e=>`${e}`,T=(e,t)=>{const r={type:"storage",keys:[],values:[],pre:"{",post:"}"};return Object.keys(e).forEach((s=>{try{f(r,c(s)?t(s):s,t(e[s]))}catch(e){}})),s(r,n.getClassName(e)),r},E=(e,t)=>{const r={type:"list",values:[],pre:"[",post:"]"};let o=0;return e.forEach((e=>{d(r,o++,t(e))})),s(r,n.getClassName(e)),r},M=e=>JSON.stringify(e),_=e=>String(e);const x=new Map,$=(e,t)=>{e&&t&&(x.delete(e),x.set(e,t))},w=e=>x.get(e);let H=e=>{const t=n.getClass(e);return t&&w(t)};$(Array,h),$(Boolean,y),$(Date,N),$(Error,b),$(Function,v),$(Map,C),$(Number,S),$(Object,T),$(Set,E),$(String,M),$(Symbol,_);const{get:j,set:D}=r.singleValueFactory(2),O=e=>{switch(typeof e){case"symbol":case"string":case"boolean":case"number":case"undefined":return!0;default:return null===e||e instanceof Date}},L=e=>{switch(typeof e){case"symbol":return _(e);case"string":return M(e);case"boolean":return y(e);case"number":return S(e);default:if(e instanceof Date)return N(e);try{return`${e}`}catch(e){return"[object Non-Serializable]"}}},k=(e,t=1,s=new Map)=>{if(null==e)return`${e}`;const n=j();if(t>n)return L(e);const r=!O(e);if(r&&s.has(e))return s.get(e);const o=(e=>H(e))(e),a=e=>k(e,t+1,s),c=o?o(e,a,s):((e,t,s)=>O(e)?L(e):e instanceof Function?v(e):e instanceof Error?b(e,t):e instanceof Map?C(e,t):e instanceof Set?E(e,t):e instanceof Array?h(e,t):T(e,t))(e,a);return r&&s.set(e,c),c};t.addTypeHandler=$,t.convert=k,t.default=k,t.getMaxNesingDepth=j,t.getTypeHandler=w,t.hasTypeHandler=e=>x.has(e),t.isString=O,t.removeTypeHandler=e=>x.delete(e),t.setMaxNesingDepth=D,t.setTypeHandlerSelector=e=>{H=e},t.toString=L,t.utils=m})),a=t(o);const{isList:c,getListSize:l,getNestedWraps:u,getCustomClassNameFrom:i}=o.utils,{iterateStorage:p,isNested:d,isList:g,iterateList:f,getNestedShortContent:m,getNestedWraps:h,getListSize:y,getStorageSize:N}=o.utils,b=(e,t)=>{e.innerHTML=t?"-":"+"},v=(e,t)=>{const s=`  ${t}`;return g(e)?((e,t)=>{const s=[];let n="\n";return f(e,(e=>{n+=t,d(e)?(s.push(document.createTextNode(n)),n="",s.push(C(e,t))):n+=e,n+=", \n"})),n&&s.push(document.createTextNode(n)),s})(e,s):((e,t)=>{const s=[];let n="\n";return p(e,((e,r)=>{n+=`${t}`,d(r)?(s.push(document.createTextNode(`${n}[`)),s.push(C(r,t)),n="]"):n+=r,n+=": ",d(e)?(s.push(document.createTextNode(n)),s.push(C(e,t)),n=""):n+=e,n+=", \n"})),n&&s.push(document.createTextNode(n)),s})(e,s)};function C(e,t="",s=!1){const n=g(e)?y(e):N(e);let r,o=s&&!!n;const a=((e,t)=>{let s=m(e);return void 0===s&&(s=t?" ... ":""),[document.createTextNode(s)]})(e,n),{pre:p,post:d}=(e=>{const t=u(e),s=i(e);return c(e)?t.pre=`${s}(${l(e)})${t.pre}`:t.pre=`${s}${t.pre}`,t})(e),f=(e=>{const t=document.createElement("span");return t.className="ui-console-button-expand",b(t,e),t})(o),h=document.createElement("span");h.className="ui-console-nested-wrapper";const C=document.createElement("span");C.className="ui-console-clickable",C.appendChild(f),C.appendChild(document.createTextNode(p));const S=()=>{let s;(e=>{for(;e.firstChild;)e.removeChild(e.firstChild)})(h),h.appendChild(C),o?(r||(r=v(e,t)),s=r):s=a,s.forEach((e=>h.appendChild(e))),h.appendChild(document.createTextNode(o?`${t}${d}`:d))};return C.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation(),o=!o,b(f,o),S()})),S(),h}const{isNested:S,canPassAsIs:T}=o.utils,E=e=>document.createTextNode(`${e} `),M=(e,t=Number.MAX_SAFE_INTEGER)=>{const s=(s,n="log",r=!1)=>{const o=document.createElement("div");o.className=`ui-console-item ui-console-item-${n}`,((e,t,s=!1)=>{e.forEach((e=>{if(!s&&T(e))return void t.appendChild(E(e));const n=s?e:a(e);S(n)?t.appendChild(C(n,"",!0)):t.appendChild(E(n))}))})(s,o,r),e.appendChild(o),(()=>{for(;t>0&&t<e.childElementCount;){const t=e.firstElementChild;if(!t)return;t.remove()}})()};return{info:(...e)=>s(e,"info"),log:(...e)=>s(e,"log"),warn:(...e)=>s(e,"warning"),error:(...e)=>s(e,"error"),success:(...e)=>s(e,"success"),push:(e,...t)=>s(t,e),pushRendered:(e,...t)=>s(t,e,!0),clear:()=>{e.innerHTML=""}}};e.addTypeHandler=o.addTypeHandler,e.create=(e,t=Number.MAX_SAFE_INTEGER)=>{const s=document.createElement("div");return s.className="ui-console ui-console-container",e.appendChild(s),M(s,t)},e.getMaxNesingDepth=o.getMaxNesingDepth,e.getTypeHandler=o.getTypeHandler,e.hasTypeHandler=o.hasTypeHandler,e.init=M,e.removeTypeHandler=o.removeTypeHandler,e.setMaxNesingDepth=o.setMaxNesingDepth,e.setTypeHandlerSelector=o.setTypeHandlerSelector,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=console.min.js.map
